#!/bin/bash

cd "$(dirname ${BASH_SOURCE[0]})"

FILES=(
    bash.d
    bash_profile
    bashrc
    bin
    gitconfig
    inputrc
    vim
    vimrc
)

for FILE in "${FILES[@]}"; do
    DEST="$HOME/.$FILE"
    rm -rf "$DEST"
    ln -sf "$PWD/$FILE" "$DEST"
done

GIT_COMPLETION=/usr/local/bin/git-completion.bash
if [[ ! -f "$GIT_COMPLETION" ]]; then
    curl -o "$GIT_COMPLETION" https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash
fi

if ! type brew &> /dev/null; then
    /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi

if ! type hub &> /dev/null; then
    brew install hub
fi
